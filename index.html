<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gregorio Pedrini | Vertical Adventures</title>
    <meta name="description" content="Alpinismo, Arrampicata e Trekking con Gregorio Pedrini.">
    <link rel="canonical" href="https://gregoriopedrini.com/">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- FONTS -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap');
        
        :root {
            --brand-color: #17a2ad;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            color: #f8fafc;
            -webkit-tap-highlight-color: transparent;
        }

        /* Effetti Card */
        .category-card {
            transition: transform 0.2s, filter 0.2s;
            cursor: pointer;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .category-card:active {
            transform: scale(0.98);
        }

        /* Dettagli */
        details summary::-webkit-details-marker { display: none; }
        details[open] summary i.fa-chevron-down { transform: rotate(180deg); }

        /* Animazioni */
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Bottone Indietro */
        .back-btn {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        
        .gradient-card {
            background: linear-gradient(145deg, #1e293b, #0f172a);
            border: 1px solid #334155;
            transition: all 0.2s ease;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- HEADER FISSO (Profilo) -->
    <header class="w-full py-6 bg-slate-900/90 border-b border-slate-800 shadow-xl sticky top-0 z-40 backdrop-blur-md">
        <div class="max-w-md mx-auto text-center px-4 flex items-center justify-between">
            <div class="flex items-center gap-4" onclick="showPage('home')" style="cursor: pointer;">
                <div class="relative w-12 h-12">
                    <img id="header-img" src="" class="w-full h-full rounded-full object-cover border-2 border-[#17a2ad]">
                </div>
                <div class="text-left">
                    <h1 class="text-sm font-black uppercase tracking-tighter leading-none">Gregorio Pedrini</h1>
                    <p class="text-[#17a2ad] text-[8px] font-bold uppercase tracking-[0.2em]">Vertical Adventures</p>
                </div>
            </div>
            <a href="https://www.instagram.com/gregpedrini/" target="_blank" class="text-slate-400 hover:text-[#17a2ad]">
                <i class="fa-brands fa-instagram text-2xl"></i>
            </a>
        </div>
    </header>

    <!-- CONTENITORE PRINCIPALE (Cambia contenuto dinamicamente) -->
    <main id="app-container" class="max-w-md mx-auto px-4 py-6 flex-grow w-full pb-24">
        <!-- Il contenuto viene iniettato qui da JavaScript -->
    </main>

    <!-- Pulsante "Torna alla Home" (Visibile solo nelle sottopagine) -->
    <div id="back-button-container" class="hidden">
        <button onclick="showPage('home')" class="back-btn bg-slate-800/80 text-white px-6 py-3 rounded-full border border-slate-600 shadow-2xl flex items-center gap-2 text-xs font-bold uppercase tracking-widest hover:bg-[#17a2ad] transition-colors">
            <i class="fa-solid fa-arrow-left"></i> Home
        </button>
    </div>

    <!-- FOOTER -->
    <footer class="max-w-md mx-auto mt-auto text-center px-4 py-6 border-t border-slate-800/50">
        <p class="text-slate-600 text-[9px] uppercase tracking-widest">
            &copy; 2026 Gregorio Pedrini
        </p>
    </footer>

    <!-- LOGICA E DATI INTEGRATI -->
    <script>
        // --- 1. CONFIGURAZIONE COLORI ---
        const COLORI = {
            main: "#17a2ad",       // Colore principale (Teal)
            begino: "#cfc194",     // Beige/Oro (Ideale per iniziare)
            azzurro: "#a3e7d9",    // Azzurrino (Didattica)
            arancione: "#ff5e0e",  // Arancione (Vie lunghe)
            marrone: "#695d46",    // Marrone (Alpinismo)
            dark: "#0f172a"        // Sfondo scuro
        };

        // --- 2. DATI ATTIVITÀ ---
        const ATTIVITA = [
            // --- CALENDARIO GENNAIO ---
            {
                id: "pania-croce",
                categoria: "calendario",
                titolo: "Pania della Croce",
                sottotitolo: "Normale dal Vallone dell'Inferno",
                data: "11 Gen",
                anno: "2026",
                prezzo: "100€",
                difficolta: "Facile",
                impegno_fisico: "Moderato",
                ritrovo: "Piglionico (LU) ore 08:30",
                materiale: "Ramponi 12 punte, piccozza classica, imbrago, casco, una ghiera HMS.",
                descrizione: "Salita classica invernale che attraversa il Vallone dell'Inferno. Splendido panorama sul gruppo delle Panie e sul mare. Fine attività metà pomeriggio.",
                img_bck_color: COLORI.main,
                posti_max: 4,
                badge: "Ideale per iniziare"
            },
            {
                id: "pania-secca",
                categoria: "calendario",
                titolo: "Pania Secca",
                sottotitolo: "Cresta dei Denti della Pania",
                data: "17 Gen",
                anno: "2026",
                prezzo: "170€",
                difficolta: "Media",
                impegno_fisico: "Moderato",
                ritrovo: "Isola Santa ore 08:30",
                materiale: "Ramponi 12 punte, piccozza classica, imbrago, casco, una ghiera HMS.",
                descrizione: "Una delle creste più belle delle Apuane. Terreno misto ed esposto. Richiesta assenza di vertigini. Fine attività metà pomeriggio.",
                img_bck_color: COLORI.main,
                posti_max: 2
            },
            {
                id: "tambura",
                categoria: "calendario",
                titolo: "Monte Tambura",
                sottotitolo: "Dalla Carcaraia (Apuane)",
                data: "18 Gen",
                anno: "2026",
                prezzo: "80€",
                difficolta: "Facile",
                impegno_fisico: "Moderato",
                ritrovo: "Lago di Gramolazzo ore 08:30",
                materiale: "Ramponi 12 punte, piccozza classica, imbrago, casco, una ghiera HMS.",
                descrizione: "Ambiente selvaggio e aspro caratterizzato dalla tipica morfologia carsica. La Tambura in inverno offre un'estetica alpina di grande respiro. Fine attività metà pomeriggio.",
                img_bck_color: COLORI.main,
                posti_max: 6,
                badge: "Ideale per iniziare"
            },
            {
                id: "pisanino",
                categoria: "calendario",
                titolo: "Monte Pisanino",
                sottotitolo: "Cresta della Mirandola",
                data: "24 Gen",
                anno: "2026",
                prezzo: "220€",
                difficolta: "Media",
                impegno_fisico: "Alto",
                ritrovo: "Lago di Gramolazzo ore 07:00",
                materiale: "Ramponi 12 punte, piccozza classica, imbrago, casco, una ghiera HMS, cordino kevlar 120cm, freno, lampada frontale obbligatoria.",
                descrizione: "Ambiente maestoso sul re delle Apuane, una salita di gran soddisfazione lungo una delle sue creste più iconiche. Fine attività metà pomeriggio.",
                img_bck_color: COLORI.main,
                posti_max: 2
            },

            // --- CATALOGO GENERALE (Esempi per le categorie) ---
            {
                id: "canale-giovo",
                categoria: "alpinismo",
                titolo: "Canale Centrale Giovo",
                sottotitolo: "Appennino Tosco-Emiliano",
                data: "",
                prezzo: "Trattativa privata",
                difficolta: "AD",
                impegno_fisico: "Alto",
                ritrovo: "Lago Santo Modenese",
                materiale: "Due piccozze, ramponi, imbrago, casco.",
                descrizione: "Una classica salita di pendenza su neve e misto facile. Perfetta per introdursi al ripido.",
                img_bck_color: COLORI.marrone
            },
            {
                id: "oppio",
                categoria: "vie-lunghe",
                titolo: "Via Oppio Colnaghi",
                sottotitolo: "Pizzo d'Uccello",
                data: "",
                prezzo: "350€",
                difficolta: "V+",
                impegno_fisico: "Molto Alto",
                ritrovo: "Vincame",
                materiale: "Scarpette, imbrago, casco.",
                descrizione: "La classica delle Apuane. Una salita storica di oltre 700m di sviluppo.",
                img_bck_color: COLORI.arancione
            },
            {
                id: "selvaggio",
                categoria: "selvaggio-blu",
                titolo: "Selvaggio Blu",
                sottotitolo: "Sardegna - Golfo di Orosei",
                data: "10-16 Mag",
                anno: "2026",
                prezzo: "850€",
                difficolta: "EEA / IV",
                impegno_fisico: "Alto",
                ritrovo: "Santa Maria Navarrese",
                materiale: "Kit completo trekking nautico/alpinistico.",
                descrizione: "Il trekking più difficile d'Italia. 6 giorni in autonomia tra falesie e mare.",
                img_bck_color: COLORI.main
            },
            {
                id: "ferrata-procinto",
                categoria: "ferrate",
                titolo: "Ferrata del Procinto",
                sottotitolo: "Alpi Apuane",
                data: "",
                prezzo: "Su richiesta",
                difficolta: "Facile",
                impegno_fisico: "Basso",
                ritrovo: "Stazzema",
                materiale: "Kit ferrata completo.",
                descrizione: "La ferrata più antica d'Italia, un percorso storico e panoramico.",
                img_bck_color: COLORI.begino
            },
            {
                id: "corso-base",
                categoria: "didattica",
                titolo: "Corso Base Alpinismo",
                sottotitolo: "Progressione su neve",
                data: "",
                prezzo: "250€",
                difficolta: "Base",
                impegno_fisico: "Basso",
                ritrovo: "Da definire",
                materiale: "Noleggio incluso.",
                descrizione: "Impara l'uso di ramponi e piccozza e l'autosoccorso.",
                img_bck_color: COLORI.azzurro
            }
        ];

        // --- 3. BIO ---
        const BIO = {
            titolo: "Chi Sono",
            descrizione: "Mi chiamo Gregorio Pedrini, sono un Aspirante Guida Alpina. La montagna è la mia casa e la mia passione. Organizzo uscite su misura per portarti a scoprire le meraviglie delle Apuane e delle Alpi, con un occhio sempre attento alla sicurezza e al divertimento.",
            img: "https://raw.githubusercontent.com/gregoriopedrini/Montagna/main/iomini.jpeg"
        };

        // --- 4. LOGICA DEL SITO ---
        
        const app = document.getElementById('app-container');
        const backBtn = document.getElementById('back-button-container');
        const WHATSAPP = "393205586883";

        function init() {
            if(typeof BIO !== 'undefined') {
                const headerImg = document.getElementById('header-img');
                if(headerImg) headerImg.src = BIO.img;
            }
            showPage('home');
        }

        function showPage(pageId, categoryFilter = null) {
            app.innerHTML = ''; 
            window.scrollTo(0,0);

            if (pageId === 'home') {
                renderHome();
                backBtn.classList.add('hidden');
            } else if (pageId === 'bio') {
                renderBio();
                backBtn.classList.remove('hidden');
            } else if (pageId === 'list') {
                renderList(categoryFilter);
                backBtn.classList.remove('hidden');
            }
        }

        function renderHome() {
            let html = `
                <div class="fade-in space-y-4">
                    
                    <!-- 1. CHI SONO -->
                    <div onclick="showPage('bio')" class="bg-slate-800 p-4 rounded-2xl flex items-center justify-between cursor-pointer border border-slate-700 hover:border-[#17a2ad] transition-all">
                        <span class="font-bold uppercase tracking-widest text-sm">Chi Sono</span>
                        <i class="fa-solid fa-user-astronaut text-[#17a2ad]"></i>
                    </div>

                    <!-- 2. CALENDARIO USCITE -->
                    <div onclick="showPage('list', 'calendario')" class="relative overflow-hidden bg-gradient-to-r from-[#17a2ad] to-[#12818a] p-6 rounded-3xl cursor-pointer shadow-lg shadow-[#17a2ad33] group">
                        <div class="relative z-10 flex items-center justify-between">
                            <div>
                                <h2 class="text-white font-black text-xl uppercase italic tracking-tighter">Calendario<br>Uscite</h2>
                                <p class="text-white/80 text-[10px] uppercase font-bold mt-1">Prossimi Eventi 2026</p>
                            </div>
                            <i class="fa-regular fa-calendar-check text-4xl text-white/20 group-hover:scale-110 transition-transform"></i>
                        </div>
                    </div>

                    <!-- 3. USCITA PERSONALIZZATA -->
                    <div onclick="prenotaPersonalizzata()" class="border-2 border-dashed border-[#17a2ad]/50 p-4 rounded-2xl text-center cursor-pointer hover:bg-[#17a2ad]/10 transition-colors">
                        <p class="text-[#17a2ad] font-bold uppercase text-xs tracking-widest mb-1"><i class="fa-solid fa-wand-magic-sparkles mr-2"></i>Uscita Personalizzata</p>
                        <p class="text-slate-500 text-[10px]">Hai un sogno nel cassetto? Realizziamolo.</p>
                    </div>

                    <div class="h-px bg-slate-800 w-full my-6"></div>
                    <p class="text-slate-500 text-[10px] uppercase font-bold tracking-widest mb-2 ml-1">Categorie Attività</p>

                    <!-- 4. CATEGORIE -->
                    <div class="grid grid-cols-1 gap-3">
                        ${renderCategoryBanner("Alpinismo Invernale", "alpinismo", COLORI.marrone, "fa-snowflake")}
                        ${renderCategoryBanner("Vie Lunghe", "vie-lunghe", COLORI.arancione, "fa-mountain")}
                        ${renderCategoryBanner("Didattica e Sicurezza", "didattica", COLORI.azzurro, "fa-graduation-cap", "text-slate-800")}
                        ${renderCategoryBanner("Vie Ferrate", "ferrate", COLORI.begino, "fa-layer-group", "text-slate-800")}
                        ${renderCategoryBanner("Selvaggio Blu", "selvaggio-blu", COLORI.main, "fa-water")}
                    </div>
                </div>
            `;
            app.innerHTML = html;
        }

        function renderCategoryBanner(label, catId, bgColor, icon, textColor = "text-white") {
            return `
            <div onclick="showPage('list', '${catId}')" class="${bgColor} ${textColor} p-5 rounded-2xl category-card flex items-center justify-between shadow-md" style="background-color: ${bgColor}">
                <span class="font-black uppercase tracking-tighter text-lg">${label}</span>
                <i class="fa-solid ${icon} text-xl opacity-80"></i>
            </div>`;
        }

        function renderList(category) {
            const items = ATTIVITA.filter(item => item.categoria === category);
            let pageTitle = category === 'calendario' ? "Prossime Uscite" : category.replace('-', ' ').toUpperCase();
            
            let html = `<div class="fade-in space-y-6">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-xl font-black uppercase tracking-tighter text-white border-l-4 border-[#17a2ad] pl-3">${pageTitle}</h2>
                </div>`;

            if (items.length === 0) {
                html += `<div class="text-center py-10 text-slate-500 text-sm">Nessuna attività in programma al momento. <br> <span onclick="prenotaPersonalizzata()" class="text-[#17a2ad] underline cursor-pointer">Richiedine una personalizzata!</span></div>`;
            } else {
                items.forEach(item => {
                    const showDate = (category === 'calendario' || category === 'selvaggio-blu') && item.data;
                    
                    html += `
                    <div class="gradient-card p-6 rounded-3xl relative overflow-hidden" style="border-left: 4px solid ${item.img_bck_color || COLORI.main}">
                        <div class="flex justify-between items-start mb-4">
                            <div class="flex-1">
                                ${item.badge ? `<span class="bg-emerald-500/20 text-emerald-400 text-[9px] px-2 py-1 rounded font-bold uppercase mb-2 inline-block">${item.badge}</span>` : ''}
                                <h3 class="text-xl font-black mt-1 uppercase tracking-tighter leading-tight">${item.titolo}</h3>
                                <p class="text-slate-400 text-[10px] mt-1 uppercase font-bold italic">${item.sottotitolo}</p>
                            </div>
                            ${showDate ? `
                            <div class="bg-slate-900 p-2 rounded-xl text-center min-w-[60px] border border-slate-700 shadow-inner">
                                <p class="text-sm font-black text-white leading-none mb-1">${item.data.split(' ')[0]}</p>
                                <p class="text-[9px] uppercase font-black" style="color: ${item.img_bck_color}">${item.data.split(' ')[1] || ''}</p>
                            </div>` : ''}
                        </div>

                        <details class="mb-4 group">
                            <summary class="list-none cursor-pointer flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-white transition-colors">
                                <i class="fa-solid fa-chevron-down transition-transform duration-300"></i> Maggiori Informazioni
                            </summary>
                            <div class="mt-4 p-4 bg-slate-900/50 rounded-2xl border border-slate-700 text-[11px] leading-relaxed text-slate-300 space-y-2">
                                <p><strong class="text-white uppercase">Ritrovo:</strong> ${item.ritrovo}. ${category === 'calendario' ? '<span class="opacity-70">Link inviato privatamente.</span>' : ''}</p>
                                <p>${item.descrizione}</p>
                                <p><strong class="text-white uppercase">Materiale Personale:</strong> ${item.materiale}</p>
                            </div>
                        </details>

                        <div class="grid grid-cols-2 gap-y-3 gap-x-2 mb-5 text-[10px] uppercase tracking-wider font-bold text-slate-300">
                            ${item.difficolta ? `<div><i class="fa-solid fa-gauge-high mr-2" style="color:${item.img_bck_color}"></i>${item.difficolta}</div>` : ''}
                            <div style="color:${item.img_bck_color}"><i class="fa-solid fa-euro-sign mr-2"></i>${item.prezzo}</div>
                            ${item.impegno_fisico ? `<div><i class="fa-solid fa-dumbbell mr-2" style="color:${item.img_bck_color}"></i>Fisico: ${item.impegno_fisico}</div>` : ''}
                            ${item.posti_max ? `<div><i class="fa-solid fa-users mr-2" style="color:${item.img_bck_color}"></i>Max ${item.posti_max}</div>` : ''}
                        </div>

                        <button onclick="prenota('${item.titolo}', '${item.data || "Catalogo"}')" class="w-full py-4 rounded-2xl font-black text-white text-[11px] uppercase tracking-[0.2em] flex items-center justify-center gap-3 transition-all active:scale-95 shadow-lg" style="background-color: ${item.img_bck_color || COLORI.main}">
                            <i class="fa-brands fa-whatsapp text-lg"></i> ${item.data ? 'Prenota Posto' : 'Richiedi Info'}
                        </button>
                    </div>`;
                });
            }
            html += `</div>`;
            app.innerHTML = html;
        }

        function renderBio() {
            app.innerHTML = `
                <div class="fade-in text-center">
                    <div class="w-32 h-32 mx-auto mb-6 relative">
                        <img src="${BIO.img}" class="w-full h-full rounded-full object-cover border-4 border-[#17a2ad] shadow-2xl">
                    </div>
                    <h2 class="text-2xl font-black uppercase text-white mb-4">Chi Sono</h2>
                    <div class="bg-slate-800 p-6 rounded-3xl border border-slate-700 text-slate-300 text-sm leading-relaxed text-left">
                        <p>${BIO.descrizione}</p>
                        <br>
                        <p>Contattami per costruire insieme la tua prossima avventura.</p>
                    </div>
                    <div class="mt-8">
                        <button onclick="prenotaPersonalizzata()" class="bg-[#17a2ad] text-white px-8 py-3 rounded-full font-bold uppercase tracking-widest shadow-lg">Scrivimi</button>
                    </div>
                </div>
            `;
        }

        function prenota(via, data) {
            const msg = `Ciao Gregorio! Ho visto "${via}" sul sito. Vorrei maggiori informazioni.`;
            window.open(`https://wa.me/${WHATSAPP}?text=${encodeURIComponent(msg)}`, '_blank');
        }

        function prenotaPersonalizzata() {
            const msg = `Ciao Gregorio! Vorrei organizzare un'uscita personalizzata.`;
            window.open(`https://wa.me/${WHATSAPP}?text=${encodeURIComponent(msg)}`, '_blank');
        }

        // Avvio
        init();
    </script>
</body>
</html>
